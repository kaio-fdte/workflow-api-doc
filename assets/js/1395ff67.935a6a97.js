(self.webpackChunkworkflow=self.webpackChunkworkflow||[]).push([[814],{3905:function(e,o,r){"use strict";r.d(o,{Zo:function(){return d},kt:function(){return m}});var t=r(7294);function a(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}function n(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?n(Object(r),!0).forEach((function(o){a(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}function i(e,o){if(null==e)return{};var r,t,a=function(e,o){if(null==e)return{};var r,t,a={},n=Object.keys(e);for(t=0;t<n.length;t++)r=n[t],o.indexOf(r)>=0||(a[r]=e[r]);return a}(e,o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],o.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=t.createContext({}),p=function(e){var o=t.useContext(c),r=o;return e&&(r="function"==typeof e?e(o):s(s({},o),e)),r},d=function(e){var o=p(e.components);return t.createElement(c.Provider,{value:o},e.children)},u={inlineCode:"code",wrapper:function(e){var o=e.children;return t.createElement(t.Fragment,{},o)}},l=t.forwardRef((function(e,o){var r=e.components,a=e.mdxType,n=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),l=p(r),m=a,f=l["".concat(c,".").concat(m)]||l[m]||u[m]||n;return r?t.createElement(f,s(s({ref:o},d),{},{components:r})):t.createElement(f,s({ref:o},d))}));function m(e,o){var r=arguments,a=o&&o.mdxType;if("string"==typeof e||a){var n=r.length,s=new Array(n);s[0]=l;var i={};for(var c in o)hasOwnProperty.call(o,c)&&(i[c]=o[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var p=2;p<n;p++)s[p]=r[p];return t.createElement.apply(null,s)}return t.createElement.apply(null,r)}l.displayName="MDXCreateElement"},9988:function(e,o,r){"use strict";r.r(o),r.d(o,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return p},toc:function(){return d},default:function(){return l}});var t=r(2122),a=r(9756),n=(r(7294),r(3905)),s=["components"],i={},c="SubProcessNode",p={unversionedId:"resources/nodes/subprocessNode",id:"resources/nodes/subprocessNode",isDocsHomePage:!1,title:"SubProcessNode",description:"Representa um n\xf3 que permite iniciar outro processo e manter o processo principal aguardando sua execu\xe7\xe3o.",source:"@site/docs/resources/nodes/subprocessNode.md",sourceDirName:"resources/nodes",slug:"/resources/nodes/subprocessNode",permalink:"/workflow-api-doc/docs/resources/nodes/subprocessNode",editUrl:"https://bitbucket.org/fdtedsd/workflow-api-doc/src/master/docs/resources/nodes/subprocessNode.md",version:"current",frontMatter:{},sidebar:"resourcesSidebar",previous:{title:"ScriptNode",permalink:"/workflow-api-doc/docs/resources/nodes/scriptNode"},next:{title:"Comandos",permalink:"/workflow-api-doc/docs/resources/comandos"}},d=[{value:"Par\xe2metros",id:"par\xe2metros",children:[]},{value:"Exemplo",id:"exemplo",children:[]}],u={toc:d};function l(e){var o=e.components,r=(0,a.Z)(e,s);return(0,n.kt)("wrapper",(0,t.Z)({},u,r,{components:o,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"subprocessnode"},"SubProcessNode"),(0,n.kt)("p",null,"Representa um n\xf3 que permite iniciar outro processo ",(0,n.kt)("strong",{parentName:"p"},"e")," manter o processo principal aguardando sua execu\xe7\xe3o."),(0,n.kt)("p",null,"Assim como um userTaskNode, o n\xf3 de subProcesso gera 2 estados: o primeiro estado \xe9 gerado com o status ",(0,n.kt)("strong",{parentName:"p"},"DELEGATED")," e \xe9 gerado logo ap\xf3s o subProcesso ter sido criado. O segundo estado \xe9 gerado ap\xf3s o t\xe9rmino da execu\xe7\xe3o do subprocesso, com o status ",(0,n.kt)("strong",{parentName:"p"},"RUNNING"),"."),(0,n.kt)("p",null,"Caso seja necess\xe1rio que dados gerados pelo subprocesso sejam transmitidos para o processo-pai, tais dados devem ser discriminados nos ",(0,n.kt)("em",{parentName:"p"},"parameters")," do finishNode do subprocesso."),(0,n.kt)("h2",{id:"par\xe2metros"},"Par\xe2metros"),(0,n.kt)("p",null,"Este n\xf3 pode receber 4 par\xe2metros:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"workflow_name (obrigat\xf3rio)"),(0,n.kt)("li",{parentName:"ul"},"actor_data (obrigat\xf3rio)"),(0,n.kt)("li",{parentName:"ul"},"input"),(0,n.kt)("li",{parentName:"ul"},"valid_response")),(0,n.kt)("h4",{id:"workflow-name"},"workflow name"),(0,n.kt)("p",null,"Trata-se do nome do workflow que dever\xe1 ser iniciado. "),(0,n.kt)("h4",{id:"actor-data"},"actor data"),(0,n.kt)("p",null,"Trata-se de um ",(0,n.kt)("em",{parentName:"p"},"objeto")," com o actor_data que dever ser utilizado para criar e iniciar o subprocesso."),(0,n.kt)("p",null,"Assim como no n\xf3 de StartProcess, a cria\xe7\xe3o e execu\xe7\xe3o de um subprocesso passa por todas as etapas de valida\xe7\xe3o do startNode feitas para cria\xe7\xe3o de um processo normal."),(0,n.kt)("h4",{id:"input"},"input"),(0,n.kt)("p",null,"Trata-se de um ",(0,n.kt)("em",{parentName:"p"},"objeto")," que determina os dados iniciais que ser\xe3o passados do processo-pai para o subprocesso."),(0,n.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,n.kt)("div",{parentName:"div",className:"admonition-heading"},(0,n.kt)("h5",{parentName:"div"},(0,n.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,n.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,n.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,n.kt)("div",{parentName:"div",className:"admonition-content"},(0,n.kt)("p",{parentName:"div"},"Se o startNode do subprocesso cont\xe9m um input schema, \xe9 necess\xe1rio incluir neste um atributo parent_process_data, que cont\xe9m os dados do processo-pai que evocou o subprocesso."),(0,n.kt)("p",{parentName:"div"},"\xc9 atrav\xe9s desse atributo que o flowbuild identifica, ao final da execu\xe7\xe3o do subprocesso, que h\xe1 um processo-pai que deve ser notificado."))),(0,n.kt)("h4",{id:"valid-response"},"valid response"),(0,n.kt)("p",null,"De forma an\xe1loga ao n\xf3 http, esse campo \xe9 definido como uma lista de status aceitos como v\xe1lidos para continuidade do processo pai ao final da execu\xe7\xe3o do subprocess."),(0,n.kt)("p",null,"Assim como no caso do n\xf3 http, caso o subprocesso finalize em um status diferente do descrito como status v\xe1lido, o processo-pai gera um estado de ",(0,n.kt)("strong",{parentName:"p"},"ERROR"),"."),(0,n.kt)("h2",{id:"exemplo"},"Exemplo"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "id": "3-X",\n    "name": "Calcular or\xe7amento",\n    "type": "SubProcess",\n    "next": "3-XB",\n    "lane_id": "vendedor",\n    "parameters": {\n        "workflow_name": "calcularOrcamento",\n        "actor_data": { "$ref": "actor_data" },\n        "valid_response": "finished",\n        "input": {\n            "orcamento_id": { "$ref": "bag.orcamento_id" },\n        },\n    },\n}\n')))}l.isMDXComponent=!0}}]);