(self.webpackChunkworkflow=self.webpackChunkworkflow||[]).push([[8490],{3905:function(e,t,r){"use strict";r.d(t,{Zo:function(){return d},kt:function(){return m}});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),u=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},d=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=u(r),m=n,k=p["".concat(l,".").concat(m)]||p[m]||c[m]||o;return r?a.createElement(k,s(s({ref:t},d),{},{components:r})):a.createElement(k,s({ref:t},d))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,s=new Array(o);s[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var u=2;u<o;u++)s[u]=r[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},8215:function(e,t,r){"use strict";var a=r(7294);t.Z=function(e){var t=e.children,r=e.hidden,n=e.className;return a.createElement("div",{role:"tabpanel",hidden:r,className:n},t)}},1395:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(7294),n=r(944),o=r(6010),s="tabItem_1uMI",i="tabItemActive_2DSg";var l=37,u=39;var d=function(e){var t=e.lazy,r=e.block,d=e.defaultValue,c=e.values,p=e.groupId,m=e.className,k=(0,n.Z)(),f=k.tabGroupChoices,v=k.setTabGroupChoices,b=(0,a.useState)(d),g=b[0],N=b[1],y=a.Children.toArray(e.children),T=[];if(null!=p){var h=f[p];null!=h&&h!==g&&c.some((function(e){return e.value===h}))&&N(h)}var O=function(e){var t=e.currentTarget,r=T.indexOf(t),a=c[r].value;N(a),null!=p&&(v(p,a),setTimeout((function(){var e,r,a,n,o,s,l,u;(e=t.getBoundingClientRect(),r=e.top,a=e.left,n=e.bottom,o=e.right,s=window,l=s.innerHeight,u=s.innerWidth,r>=0&&o<=u&&n<=l&&a>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(i),setTimeout((function(){return t.classList.remove(i)}),2e3))}),150))},w=function(e){var t,r;switch(e.keyCode){case u:var a=T.indexOf(e.target)+1;r=T[a]||T[0];break;case l:var n=T.indexOf(e.target)-1;r=T[n]||T[T.length-1]}null==(t=r)||t.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":r},m)},c.map((function(e){var t=e.value,r=e.label;return a.createElement("li",{role:"tab",tabIndex:g===t?0:-1,"aria-selected":g===t,className:(0,o.Z)("tabs__item",s,{"tabs__item--active":g===t}),key:t,ref:function(e){return T.push(e)},onKeyDown:w,onFocus:O,onClick:O},r)}))),t?(0,a.cloneElement)(y.filter((function(e){return e.props.value===g}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},y.map((function(e,t){return(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==g})}))))}},9443:function(e,t,r){"use strict";var a=(0,r(7294).createContext)(void 0);t.Z=a},944:function(e,t,r){"use strict";var a=r(7294),n=r(9443);t.Z=function(){var e=(0,a.useContext)(n.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e}},5209:function(e,t,r){"use strict";r.r(t),r.d(t,{frontMatter:function(){return u},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return p},default:function(){return k}});var a=r(2122),n=r(9756),o=(r(7294),r(3905)),s=r(1395),i=r(8215),l=["components"],u={},d=void 0,c={unversionedId:"resources/nodes/systemTaskNode",id:"resources/nodes/systemTaskNode",isDocsHomePage:!1,title:"systemTaskNode",description:"N\xf3 de sistema.",source:"@site/docs/resources/nodes/systemTaskNode.mdx",sourceDirName:"resources/nodes",slug:"/resources/nodes/systemTaskNode",permalink:"/workflow-api-doc/docs/resources/nodes/systemTaskNode",editUrl:"https://bitbucket.org/fdtedsd/workflow-api-doc/src/master/docs/resources/nodes/systemTaskNode.mdx",version:"current",frontMatter:{},sidebar:"resourcesSidebar",previous:{title:"UserTaskNode",permalink:"/workflow-api-doc/docs/resources/nodes/userTaskNode"},next:{title:"ScriptNode",permalink:"/workflow-api-doc/docs/resources/nodes/scriptNode"}},p=[{value:"Categorias",id:"categorias",children:[{value:"HTTP",id:"http",children:[]},{value:"SetToBag",id:"settobag",children:[]},{value:"Timer",id:"timer",children:[]},{value:"StartProcess",id:"startprocess",children:[]}]},{value:"Exemplos",id:"exemplos",children:[]}],m={toc:p};function k(e){var t=e.components,r=(0,n.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"N\xf3 de sistema. "),(0,o.kt)("p",null,"Ele \xe9 base para todos os tipos de nodes de tarefas s\xedncronas orquestradas pelo flowBuild."),(0,o.kt)("p",null,"O systemTaskNode espera um atributo adicional que descreve a categoria da tarefa a ser realizada, entre elas:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"HTTP"),(0,o.kt)("li",{parentName:"ul"},"SetToBag"),(0,o.kt)("li",{parentName:"ul"},"Timer")),(0,o.kt)("h2",{id:"categorias"},"Categorias"),(0,o.kt)("h3",{id:"http"},"HTTP"),(0,o.kt)("p",null,"System Task que realiza uma chamada HTTP."),(0,o.kt)("h4",{id:"par\xe2metros"},"Par\xe2metros"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"input: os dados que ser\xe3o enviados no corpo da requisi\xe7\xe3o."),(0,o.kt)("li",{parentName:"ul"},"request: um objeto contendo os atributos da requisi\xe7\xe3o"),(0,o.kt)("li",{parentName:"ul"},"valid_response_codes: uma lista de c\xf3digos de resposta aceitos como v\xe1lidos para a requisi\xe7\xe3o")),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Atributo"),(0,o.kt)("th",{parentName:"tr",align:null},"Obrigat\xf3rio"),(0,o.kt)("th",{parentName:"tr",align:null},"Descri\xe7\xe3o"),(0,o.kt)("th",{parentName:"tr",align:null},"Valor Padr\xe3o"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"url"),(0,o.kt)("td",{parentName:"tr",align:null},"sim"),(0,o.kt)("td",{parentName:"tr",align:null},"endpoint da requisi\xe7\xe3o"),(0,o.kt)("td",{parentName:"tr",align:null},"N/A")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"verb"),(0,o.kt)("td",{parentName:"tr",align:null},"sim"),(0,o.kt)("td",{parentName:"tr",align:null},"o verbo da requisi\xe7\xe3o (POST, GET, PUT, PATCH, DELETE, HEAD)"),(0,o.kt)("td",{parentName:"tr",align:null},"N/A")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"headers"),(0,o.kt)("td",{parentName:"tr",align:null},"n\xe3o"),(0,o.kt)("td",{parentName:"tr",align:null},"um objeto com o conjunto de headers a serem inclu\xeddos na requisi\xe7\xe3o"),(0,o.kt)("td",{parentName:"tr",align:null},"N/A")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"timeout"),(0,o.kt)("td",{parentName:"tr",align:null},"n\xe3o"),(0,o.kt)("td",{parentName:"tr",align:null},"um inteiro (em milisegudos) do tempo que de espera at\xe9 que a requisi\xe7\xe3o expire."),(0,o.kt)("td",{parentName:"tr",align:null},"60000")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"max_content_length"),(0,o.kt)("td",{parentName:"tr",align:null},"n\xe3o"),(0,o.kt)("td",{parentName:"tr",align:null},"o comprimento m\xe1ximo, em bytes da resposta da requisi\xe7\xe3o."),(0,o.kt)("td",{parentName:"tr",align:null},"2000")))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"O valor padr\xe3o de timeout pode ser definido atrav\xe9s da vari\xe1vel de ambiente HTTP_TIMEOUT")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"O valor padr\xe3o do comprimento m\xe1ximo da resposta poder ser definido atrav\xe9s da vari\xe1vel de ambiente MAX_CONTENT_LENGTH")),(0,o.kt)("h3",{id:"settobag"},"SetToBag"),(0,o.kt)("p",null,"N\xf3 de persist\xeancia do processo. Este n\xf3 \xe9 utilizado para para incluir ou remover dados a bag do processo."),(0,o.kt)("p",null,"O n\xf3 de setToBag transfere o result por ele recebido para seu n\xf3 subsequente."),(0,o.kt)("h4",{id:"par\xe2metros-1"},"Par\xe2metros"),(0,o.kt)("p",null,"Este tipo de n\xf3 espera um input nos campo par\xe2metros que determina os atributos da bag que devem ser modificados."),(0,o.kt)("p",null,"Os atributos mencionados nos input do n\xf3 ser\xe3o completamente sobrescritos pelos valores informados."),(0,o.kt)("h3",{id:"timer"},"Timer"),(0,o.kt)("p",null,"O n\xf3 de timer \xe9 utilizado para pausar o processo por um per\xedodo determinado."),(0,o.kt)("p",null,"O processo entra no status ",(0,o.kt)("em",{parentName:"p"},"PENDING")," at\xe9 que o prazo de expira\xe7\xe3o seja atingido."),(0,o.kt)("h4",{id:"par\xe2metros-2"},"Par\xe2metros"),(0,o.kt)("p",null,"Este n\xf3 espera um atributo ",(0,o.kt)("em",{parentName:"p"},"timeout")," que descreve o valor, em segundos, at\xe9 que o processo seja retomado."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Apesar de n\xe3o ser utilizado para execu\xe7\xe3o, o timerNode necessita de um atributo input.")),(0,o.kt)("h3",{id:"startprocess"},"StartProcess"),(0,o.kt)("p",null,"Esta categoria de n\xf3 \xe9 utilizada que um processo inicie a execu\xe7\xe3o de outro processo."),(0,o.kt)("p",null,"O processo criado por esse n\xf3 n\xe3o tem qualquer v\xednculo com o processo que o criou, criando trilhas de execu\xe7\xe3o independentes."),(0,o.kt)("p",null,"A cria\xe7\xe3o do processo passar\xe1 pelo mesmo crit\xe9rio de valida\xe7\xe3o de acesso do startNode que seria feito para iniciar um processo via API. Este n\xf3 s\xf3 evita a necessidade da aplica\xe7\xe3o sair para a camada HTTP para criar um processo."),(0,o.kt)("h4",{id:"par\xe2metros-3"},"Par\xe2metros"),(0,o.kt)("p",null,"O n\xf3 de startProcess espera 3 par\xe2metros:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"workflow_name: o nome do workflow cujo processo deve ser criado"),(0,o.kt)("li",{parentName:"ul"},"input: dados enviados para iniciar o processo"),(0,o.kt)("li",{parentName:"ul"},"actor_data: o actor_data que deve ser utilizado para cria\xe7\xe3o do processo")),(0,o.kt)("h2",{id:"exemplos"},"Exemplos"),(0,o.kt)(s.Z,{defaultValue:"http",values:[{label:"HTTP",value:"http"},{label:"Set To Bag",value:"settobag"},{label:"Timer",value:"timer"},{label:"Start Process",value:"startprocess"}],mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"http",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "id":"2",\n   "name":"get users",\n   "next":"3",\n   "lane_id":"1",\n   "type":"SystemTask",\n   "category":"http",\n   "parameters":{\n      "input":{},\n      "request":{\n         "url":"https://someapi.mock.com.br/v1/users",\n         "verb":"GET",\n         "headers":{\n            "ContentType":"application/json"\n         },\n         "timeout": 30000,\n         "max_content_length": 5000,\n      }\n      "valid_response_codes": [200,201,202,206]\n   }\n}\n'))),(0,o.kt)(i.Z,{value:"settobag",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "id":"8",\n   "name":"bag register response",\n   "next":"9",\n   "type":"SystemTask",\n   "category":"setToBag",\n   "lane_id":"1",\n   "parameters":{\n      "input":{\n         "registerUserResponse":{\n            "$ref":"result"\n         }\n      }\n   }\n}\n'))),(0,o.kt)(i.Z,{value:"timer",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "id":"6",\n   "type":"SystemTask",\n   "category":"timer",\n   "name":"Timer node",\n   "parameters":{\n      "input":{\n         \n      },\n      "timeout":60\n   },\n   "next":"4",\n   "lane_id":"1"\n},\n  \n'))),(0,o.kt)(i.Z,{value:"startprocess",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "id": "2",\n    "type": "SystemTask",\n    "category": "startProcess",\n    "name": "start minimal",\n    "parameters": {\n        "workflow_name": "minimal",\n        "input": {},\n        "actor_data": { $ref: "actor_data" },\n    },\n    "next": "99",\n    "lane_id": "1"\n}\n')))),";")}k.isMDXComponent=!0},6010:function(e,t,r){"use strict";function a(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=a(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function n(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=a(e))&&(n&&(n+=" "),n+=t);return n}r.d(t,{Z:function(){return n}})}}]);